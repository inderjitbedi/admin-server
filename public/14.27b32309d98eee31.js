"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[14],{14:(qt,v,r)=>{r.r(v),r.d(v,{FaqModule:()=>xt});var m=r(6895),s=r(5717),g=r(9938),l=r(4006),f=r(7368),t=r(4650),C=r(8606),h=r(3263),O=r(2510),x=r(5412),p=r(9549),M=r(4144),q=r(4859),b=r(4850),w=r(3683),y=r(7392);function P(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,c=t.oxw();return t.KtG(c.removeFaq(i))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}}function T(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Required "),t.qZA())}function Z(o,a){if(1&o&&(t.TgZ(0,"mat-hint",24),t._uU(1),t.qZA()),2&o){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.AsE("",n.questionMaxLength-n.faqs.controls[e].controls.question.value.length," ",n.questionMaxLength-n.faqs.controls[e].controls.question.value.length>1?"characters":"character"," left.")}}function A(o,a){if(1&o&&(t.TgZ(0,"mat-hint",24),t._uU(1),t.qZA()),2&o){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.AsE("",n.answerMaxLength-n.faqs.controls[e].controls.answer.value.length," ",n.answerMaxLength-n.faqs.controls[e].controls.answer.value.length>1?"characters":"character"," left.")}}function k(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Required "),t.qZA())}function S(o,a){if(1&o&&(t.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",15),t.YNc(4,P,3,0,"button",16),t.TgZ(5,"mat-form-field",17)(6,"mat-label"),t._uU(7,"Question "),t.qZA(),t._UZ(8,"textarea",18),t.YNc(9,T,2,0,"mat-error",19),t.YNc(10,Z,2,2,"mat-hint",20),t.qZA()(),t.TgZ(11,"div",15)(12,"mat-form-field",21)(13,"mat-label"),t._uU(14,"Answer "),t.qZA(),t._UZ(15,"textarea",22),t.YNc(16,A,2,2,"mat-hint",20),t.YNc(17,k,2,0,"mat-error",19),t.qZA()()()()()),2&o){const e=a.index,n=t.oxw();t.xp6(1),t.Q6J("formGroupName",e),t.xp6(1),t.ekj("faqForm",!n.isViewOnly)("mt-30",n.isViewOnly),t.xp6(2),t.Q6J("ngIf",n.faqList.length>1),t.xp6(1),t.ekj("mb-10",n.faqs.controls[e].controls.question.touched&&n.faqs.controls[e].controls.question.hasError("required")),t.xp6(3),t.Q6J("rows",3)("errorStateMatcher",n.matcher)("readonly",n.isViewOnly),t.xp6(1),t.Q6J("ngIf",n.faqs.controls[e].controls.question.hasError("required")),t.xp6(1),t.Q6J("ngIf",!n.isViewOnly),t.xp6(5),t.Q6J("errorStateMatcher",n.matcher)("rows",n.isViewOnly?8:5)("readonly",n.isViewOnly),t.xp6(1),t.Q6J("ngIf",!n.isViewOnly),t.xp6(1),t.Q6J("ngIf",n.faqs.controls[e].controls.answer.hasError("required"))}}function L(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",25)(1,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addFaq())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA(),t._uU(4," Add more "),t.qZA()()}}function D(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-toolbar",27)(1,"div",28)(2,"button",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.saveFaqs())}),t._uU(3,"Save"),t.qZA(),t.TgZ(4,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.matDialog.close())}),t._uU(5,"Cancel"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("disabled",e.faqForm.invalid)}}let Y=(()=>{class o{constructor(e,n,i,c,d,u,_){this.matDialog=e,this.data=n,this.apiService=i,this.errorHandlingService=c,this.matcher=d,this.fb=u,this.alertService=_,this.apiCallActive=!1,this.questionMaxLength=1e3,this.answerMaxLength=2500,this.faqList=[],console.log(n),this.isViewOnly=n.isViewOnly,this.selectedFaqCategory=n.selectedFaqCategory,this.faqForm=this.fb.group({faqs:this.fb.array([])}),this.faqs.push(this.fb.group({categoryId:[this.selectedFaqCategory],question:[n.question||""],answer:[n.answer||""]})),this.faqList.push({id:"faq"+this.faqList.length+1}),n.isViewOnly||(this.faqs.controls[0].controls.question.setValidators(l.kI.required),this.faqs.controls[0].controls.answer.setValidators(l.kI.required))}get faqs(){return this.faqForm.get("faqs")}addFaq(){this.faqList.push({id:"faq"+this.faqList.length+1}),this.faqs.push(this.fb.group({categoryId:[this.selectedFaqCategory],question:["",[l.kI.required]],answer:["",l.kI.required]}))}removeFaq(e){this.faqs.removeAt(e),this.faqList.splice(e,1)}ngOnInit(){}saveFaqs(){if(this.apiCallActive=!0,this.faqForm.valid){const e=[...this.faqForm.value.faqs];this.apiService.post(g.d.createFaq,e).subscribe({next:n=>{this.apiCallActive=!1,!n||200!==n.statusCode&&201!==n.statusCode?this.errorHandlingService.handle(n):(this.alertService.notify(n.message),this.matDialog.close(n))},error:n=>{this.errorHandlingService.handle(n)}})}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.so),t.Y36(f.WI),t.Y36(C.a),t.Y36(h.r),t.Y36(O.d),t.Y36(l.qu),t.Y36(x.c))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-faq-form"]],decls:15,vars:5,consts:[["fxLayout","column",1,"faq-container"],["fxLayoutAlign","end flex-end",1,"mat-accent-bg","m-0"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between flex-end",1,"mat-toolbar-header"],[1,"title","dialog-title"],["aria-label","Close dialog","mat-button","",1,"mat-icon-button","mat-button",3,"click"],[1,"mat-button-wrapper"],["role","img","aria-hidden","true",1,"mat-icon","material-icons"],[1,"mt-10"],["fxLayout","column",1,"content","p-20","mt-20"],["fx-layout","column",3,"formGroup"],["formArrayName","faqs",4,"ngFor","ngForOf"],["fxlayout","row","fxLayoutAlign","flex-start","fxFlex","100","class","mat-toolbar-footer",4,"ngIf"],["class","mat-accent-bg m-0 mt-12","fxLayoutAlign","center",4,"ngIf"],["formArrayName","faqs"],[3,"formGroupName"],["fxLayout","column","fxLayout.gt-xs","row"],["type","button","mat-button","","color","accent","class","deleteFaq",3,"click",4,"ngIf"],["fxFlex","100"],["matInput","","formControlName","question","trim","","autocomplete","off","maxlength","1000",3,"rows","errorStateMatcher","readonly"],[4,"ngIf"],["align","end",4,"ngIf"],["fxFlex","100",1,"mb-10"],["matInput","","formControlName","answer","trim","","autocomplete","off","maxlength","2500",3,"errorStateMatcher","rows","readonly"],["type","button","mat-button","","color","accent",1,"deleteFaq",3,"click"],["align","end"],["fxlayout","row","fxLayoutAlign","flex-start","fxFlex","100",1,"mat-toolbar-footer"],["type","submit","mat-button","","color","primary",1,"addButton",3,"click"],["fxLayoutAlign","center",1,"mat-accent-bg","m-0","mt-12"],["fxlayout","row","fxLayoutAlign","flex-end","fxFlex","100",1,"mat-toolbar-footer","action-buttons"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"],["type","button","mat-raised-button","",1,"mr-20",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return n.matDialog.close()}),t.TgZ(6,"span",5)(7,"mat-icon",6),t._uU(8,"close"),t.qZA()()()()(),t._UZ(9,"mat-divider",7),t.TgZ(10,"div",8)(11,"form",9),t.YNc(12,S,18,18,"div",10),t.qZA(),t.YNc(13,L,5,0,"div",11),t.qZA(),t.YNc(14,D,6,1,"mat-toolbar",12),t.qZA()),2&e&&(t.xp6(4),t.hij("",n.isViewOnly?"View":"Create"," FAQ Category"),t.xp6(7),t.Q6J("formGroup",n.faqForm),t.xp6(1),t.Q6J("ngForOf",n.faqList),t.xp6(1),t.Q6J("ngIf",!n.isViewOnly),t.xp6(1),t.Q6J("ngIf",!n.isViewOnly))},dependencies:[m.sg,m.O5,p.TO,p.KE,p.bx,p.hX,M.Nt,q.lW,b.d,w.Ye,y.Hw,l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u,l.x0,l.CE],styles:[".faq-container[_ngcontent-%COMP%]{position:relative}.faq-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer[_ngcontent-%COMP%]{display:flex;width:100%}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer.action-buttons[_ngcontent-%COMP%]{justify-content:right}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-single-row[_ngcontent-%COMP%]{padding:0;background-color:transparent}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.mat-toolbar-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto}.mat-form-field-hint-wrapper[_ngcontent-%COMP%]{display:block!important;text-align:right}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.faqForm[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.5);padding:10px;border-radius:5px;margin-top:30px}.faqForm[_ngcontent-%COMP%]   .deleteFaq[_ngcontent-%COMP%]{position:absolute;right:-16px;top:-19px;padding:0;background:rgba(0,0,0,.1);min-width:10px;height:36px;border-radius:50px;width:34px}.mat-toolbar-footer[_ngcontent-%COMP%]{margin-top:15px}.addButton[_ngcontent-%COMP%]{padding:0}.mt-10[_ngcontent-%COMP%]{margin-top:10px}"]}),o})();var N=r(2340);class U{constructor(a,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),i=n.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",n.setAttribute("aria-hidden","true"),n.value=a,n.readOnly=!0,this._document.body.appendChild(n)}copy(){const a=this._textarea;let e=!1;try{if(a){const n=this._document.activeElement;a.select(),a.setSelectionRange(0,a.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch{}return e}destroy(){const a=this._textarea;a&&(a.remove(),this._textarea=void 0)}}let I=(()=>{class o{constructor(e){this._document=e}copy(e){const n=this.beginCopy(e),i=n.copy();return n.destroy(),i}beginCopy(e){return new U(e,this._document)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(m.K0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({}),o})();var F=r(8490);function Q(o,a){if(1&o&&(t.TgZ(0,"h1",8)(1,"a",9),t._uU(2,"FAQ Category List"),t.qZA(),t._uU(3),t.ALo(4,"titlecase"),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.hij(" > ",t.lcZ(4,1,null==e.selectedFaqCategoryDoc?null:e.selectedFaqCategoryDoc.name)," > FAQ List")}}function H(o,a){1&o&&(t.TgZ(0,"p",10),t._uU(1," There is no FAQ created yet!\n"),t.qZA())}function V(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1," Id "),t.qZA())}function j(o,a){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=a.index;t.xp6(1),t.hij(" ",e+1," ")}}function E(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1," Question "),t.qZA())}function R(o,a){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.question," ")}}function G(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1," Action "),t.qZA())}function B(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",21)(1,"button",22),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.openFaqForm(!0,c))}),t.TgZ(2,"mat-icon"),t._uU(3,"visibility"),t.qZA()(),t.TgZ(4,"button",23),t.NdJ("click",function(){const i=t.CHM(e),c=i.index,d=i.$implicit,u=t.oxw(2);return t.KtG(u.deleteFaq(c,d))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function K(o,a){1&o&&t._UZ(0,"tr",24)}function z(o,a){1&o&&t._UZ(0,"tr",25)}function W(o,a){if(1&o&&(t.TgZ(0,"div",11)(1,"table",12),t.ynx(2,13),t.YNc(3,V,2,0,"th",14),t.YNc(4,j,2,1,"td",15),t.BQk(),t.ynx(5,16),t.YNc(6,E,2,0,"th",14),t.YNc(7,R,2,1,"td",15),t.BQk(),t.ynx(8,17),t.YNc(9,G,2,0,"th",14),t.YNc(10,B,7,0,"td",15),t.BQk(),t.YNc(11,K,1,0,"tr",18),t.YNc(12,z,1,0,"tr",19),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}let X=(()=>{class o{constructor(e,n,i,c,d,u){this.apiService=e,this.dialog=n,this.errorHandlingService=i,this.alertService=c,this.clipboard=d,this.activeRoute=u,this.activeApiCall=!0,this.displayedColumns=["id","question","action"],this.activeRoute.params.subscribe({next:_=>{this.selectedFaqCategory=_.id,console.log(this.selectedFaqCategory),this.getFaqs()}})}ngOnInit(){}openFaqForm(e,n={}){this.addUserDialogRef=this.dialog.open(Y,{minWidth:"320px",width:"585px",disableClose:!0,data:{isViewOnly:e,...n,selectedFaqCategory:this.selectedFaqCategory}}),this.addUserDialogRef.afterClosed().subscribe({next:i=>{i&&this.getFaqs()}})}getFaqs(){this.activeApiCall=!0,this.apiService.get(g.d.faq+this.selectedFaqCategory).subscribe({next:e=>{this.activeApiCall=!1,200===e.statusCode?(this.dataSource=new s.by(e.response?.faqs||[]),this.selectedFaqCategoryDoc=e.response?.category||{}):this.errorHandlingService.handle(e)},error:e=>{this.activeApiCall=!1,this.errorHandlingService.handle(e)}})}deleteFaq(e,n){window.confirm("Are you sure you want to delete this?")&&this.apiService.put(g.d.deleteFaq,{id:n._id}).subscribe({next:i=>{if(201===i.statusCode||200===i.statusCode){const c=this.dataSource.data;c.splice(e,1),this.dataSource.data=c,this.alertService.notify(i.message)}else this.errorHandlingService.handle(i)},error:i=>this.errorHandlingService.handle(i)})}copyText(){this.clipboard.copy(`<iframe width="100%" height="1000px" src="${N.N.baseUrl}faq-snippet.html?category=${this.selectedFaqCategory}"></iframe>`),this.alertService.notify("IFrame snippet copied!")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.a),t.Y36(f.uw),t.Y36(h.r),t.Y36(x.c),t.Y36(I),t.Y36(F.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-faq-list"]],decls:11,vars:3,consts:[[1,"title-group"],[1,"title"],["class","mat-h1",4,"ngIf"],[1,"title-buttons"],["mat-raised-button","","color","accent",3,"click"],["fxFlex","1 0"],["class","no-data",4,"ngIf"],["class","container",4,"ngIf"],[1,"mat-h1"],["routerLink","/dashboard/faq"],[1,"no-data"],[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","question"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","aria-label","view",3,"click"],["mat-icon-button","","color","warn","aria-label","delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Q,5,3,"h1",2),t.qZA(),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return n.openFaqForm(!1)}),t._uU(5," Create "),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return n.copyText()}),t._uU(7," Copy FAQ snippet "),t.qZA()()(),t._UZ(8,"mat-divider",5),t.YNc(9,H,2,0,"p",6),t.YNc(10,W,13,3,"div",7)),2&e&&(t.xp6(2),t.Q6J("ngIf",null==n.selectedFaqCategoryDoc?null:n.selectedFaqCategoryDoc.name),t.xp6(7),t.Q6J("ngIf",!n.activeApiCall&&(null==n.dataSource||null==n.dataSource.filteredData?null:n.dataSource.filteredData.length)<=0),t.xp6(1),t.Q6J("ngIf",!n.activeApiCall&&(null==n.dataSource||null==n.dataSource.filteredData?null:n.dataSource.filteredData.length)>0))},dependencies:[F.yS,m.O5,q.lW,b.d,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,y.Hw,m.rS],styles:["table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{font-weight:600}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px;padding:8px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px;word-break:break-all}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){white-space:nowrap;width:716px;overflow:hidden;text-overflow:ellipsis}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:65px;align-content:flex-end}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%]{width:25px}.title-group[_ngcontent-%COMP%]{display:flex;flex-direction:row}.title-group[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000}.title-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 15px 15px}.title-group[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .title-group[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%]{width:50%}.title-group[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{float:right}.no-data[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;height:calc(100% - 51px);align-items:center}a[_ngcontent-%COMP%]{text-decoration:underline;color:#000}"]}),o})();var $=r(898),tt=r(4111),et=r(7071),nt=r(8372);function ot(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Required "),t.qZA())}function at(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Category name already exists. "),t.qZA())}function it(o,a){if(1&o&&(t.TgZ(0,"mat-hint",16),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.AsE("",e.nameMaxLength-e.faqForm.controls.name.value.length," ",e.nameMaxLength-e.faqForm.controls.name.value.length>1?"characters":"character"," left.")}}function rt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-toolbar",17)(1,"div",18)(2,"button",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.saveFaqs())}),t._uU(3,"Save"),t.qZA(),t.TgZ(4,"button",20),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.matDialog.close())}),t._uU(5,"Cancel"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("disabled",e.faqForm.invalid)}}let ct=(()=>{class o{constructor(e,n,i,c,d,u,_){this.matDialog=e,this.data=n,this.apiService=i,this.errorHandlingService=c,this.matcher=d,this.fb=u,this.alertService=_,this.apiCallActive=!1,this.nameMaxLength=50,this.faqList=[],this.isUnique=!0,this.isViewOnly=n.isViewOnly,this.faqForm=this.fb.group({name:[n.name||""]}),n.isViewOnly||this.faqForm.controls.name.setValidators(l.kI.required),this.faqForm.controls.name.valueChanges.pipe((0,nt.b)(500)).subscribe({next:vt=>{this.checkFaqCategoryUniqueness()}})}checkFaqCategoryUniqueness(){this.faqForm.controls.name.value&&this.apiService.get(g.d.checkCategoryUniqueness+this.faqForm.controls.name.value).subscribe({next:e=>{!1===e.isUnique?this.faqForm.controls.name.setErrors({not_unique:!0}):this.faqForm.controls.name.errors&&delete this.faqForm.controls.name.errors.not_unique},error:e=>{this.errorHandlingService.handle(e)}})}ngOnInit(){}saveFaqs(){if(this.apiCallActive=!0,this.faqForm.valid){const e={...this.faqForm.value};this.apiService.post(g.d.createFaqCategory,e).subscribe({next:n=>{this.apiCallActive=!1,!n||200!==n.statusCode&&201!==n.statusCode?this.errorHandlingService.handle(n):(this.alertService.notify(n.message),this.matDialog.close(n))},error:n=>{this.errorHandlingService.handle(n)}})}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.so),t.Y36(f.WI),t.Y36(C.a),t.Y36(h.r),t.Y36(O.d),t.Y36(l.qu),t.Y36(x.c))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-faq-category-form"]],decls:22,vars:14,consts:[["fxLayout","column",1,"faq-container"],["fxLayoutAlign","end flex-end",1,"mat-accent-bg","m-0"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between flex-end",1,"mat-toolbar-header"],[1,"title","dialog-title"],["aria-label","Close dialog","mat-button","",1,"mat-icon-button","mat-button",3,"click"],[1,"mat-button-wrapper"],["role","img","aria-hidden","true",1,"mat-icon","material-icons"],[1,"mt-10"],["fxLayout","column",1,"content","p-20","mt-20"],["fx-layout","column",3,"formGroup"],["fxLayout","column","fxLayout.gt-xs","row"],["fxFlex","100"],["type","text","matInput","","formControlName","name","trim","","autocomplete","off","maxlength","50",3,"errorStateMatcher","readonly"],[4,"ngIf"],["align","end",4,"ngIf"],["class","mat-accent-bg m-0 mt-12","fxLayoutAlign","center",4,"ngIf"],["align","end"],["fxLayoutAlign","center",1,"mat-accent-bg","m-0","mt-12"],["fxlayout","row","fxLayoutAlign","flex-end","fxFlex","100",1,"mat-toolbar-footer","action-buttons"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"],["type","button","mat-raised-button","",1,"mr-20",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return n.matDialog.close()}),t.TgZ(6,"span",5)(7,"mat-icon",6),t._uU(8,"close"),t.qZA()()()()(),t._UZ(9,"mat-divider",7),t.TgZ(10,"div",8)(11,"form",9)(12,"div",10)(13,"div",10)(14,"mat-form-field",11)(15,"mat-label"),t._uU(16,"Category Name "),t.qZA(),t._UZ(17,"input",12),t.YNc(18,ot,2,0,"mat-error",13),t.YNc(19,at,2,0,"mat-error",13),t.YNc(20,it,2,2,"mat-hint",14),t.qZA()()()()(),t.YNc(21,rt,6,1,"mat-toolbar",15),t.qZA()),2&e&&(t.xp6(4),t.hij("",n.isViewOnly?"View":"Create"," FAQ Category"),t.xp6(7),t.Q6J("formGroup",n.faqForm),t.xp6(1),t.ekj("faqForm",!n.isViewOnly)("mt-30",n.isViewOnly),t.xp6(2),t.ekj("mb-10",n.faqForm.controls.name.touched&&n.faqForm.controls.name.hasError("required")),t.xp6(3),t.Q6J("errorStateMatcher",n.matcher)("readonly",n.isViewOnly),t.xp6(1),t.Q6J("ngIf",n.faqForm.controls.name.hasError("required")),t.xp6(1),t.Q6J("ngIf",!n.faqForm.controls.name.hasError("required")&&n.faqForm.controls.name.hasError("not_unique")),t.xp6(1),t.Q6J("ngIf",!n.isViewOnly),t.xp6(1),t.Q6J("ngIf",!n.isViewOnly))},dependencies:[m.O5,p.TO,p.KE,p.bx,p.hX,M.Nt,q.lW,b.d,w.Ye,y.Hw,l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u],styles:[".faq-container[_ngcontent-%COMP%]{position:relative}.faq-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer[_ngcontent-%COMP%]{display:flex;width:100%}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer.action-buttons[_ngcontent-%COMP%]{justify-content:right}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-single-row[_ngcontent-%COMP%]{padding:0;background-color:transparent}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.mat-toolbar-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto}.mat-form-field-hint-wrapper[_ngcontent-%COMP%]{display:block!important;text-align:right}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.faqForm[_ngcontent-%COMP%]{position:relative;border-radius:5px;margin-top:20px}.faqForm[_ngcontent-%COMP%]   .deleteFaq[_ngcontent-%COMP%]{position:absolute;right:-16px;top:-19px;padding:0;background:rgba(0,0,0,.1);min-width:10px;height:36px;border-radius:50px;width:34px}.mat-toolbar-footer[_ngcontent-%COMP%]{margin-top:15px}.addButton[_ngcontent-%COMP%]{padding:0}.mt-10[_ngcontent-%COMP%]{margin-top:10px}"]}),o})();function lt(o,a){1&o&&(t.TgZ(0,"p",8),t._uU(1," There is no FAQ category created yet!\n"),t.qZA())}function st(o,a){1&o&&(t.TgZ(0,"th",19),t._uU(1," Id "),t.qZA())}function dt(o,a){if(1&o&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&o){const e=a.index;t.xp6(1),t.hij(" ",e+1," ")}}function mt(o,a){1&o&&(t.TgZ(0,"th",19),t._uU(1," Name "),t.qZA())}function ut(o,a){if(1&o&&(t.TgZ(0,"td",20),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function pt(o,a){1&o&&(t.TgZ(0,"th",19),t._uU(1," Action "),t.qZA())}function gt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",21),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(1,"button",22),t.NdJ("click",function(){const i=t.CHM(e),c=i.index,d=i.$implicit,u=t.oxw(2);return t.KtG(u.deleteFaqCategory(c,d))}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()()()}}function ft(o,a){1&o&&t._UZ(0,"tr",23)}function _t(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr",24),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.getFaqlist(c))}),t.qZA()}}function Ct(o,a){if(1&o&&(t.TgZ(0,"div",9)(1,"table",10),t.ynx(2,11),t.YNc(3,st,2,0,"th",12),t.YNc(4,dt,2,1,"td",13),t.BQk(),t.ynx(5,14),t.YNc(6,mt,2,0,"th",12),t.YNc(7,ut,3,3,"td",13),t.BQk(),t.ynx(8,15),t.YNc(9,pt,2,0,"th",12),t.YNc(10,gt,4,0,"td",16),t.BQk(),t.YNc(11,ft,1,0,"tr",17),t.YNc(12,_t,1,0,"tr",18),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}const ht=[{path:"categories",component:(()=>{class o{constructor(e,n,i,c,d){this.apiService=e,this.dialog=n,this.errorHandlingService=i,this.alertService=c,this.router=d,this.activeApiCall=!0,this.displayedColumns=["id","name","action"]}ngOnInit(){this.getFaqCategories()}openFaqCategoryForm(e,n={}){this.addUserDialogRef=this.dialog.open(ct,{minWidth:"320px",width:"585px",disableClose:!0,data:{isViewOnly:e,...n}}),this.addUserDialogRef.afterClosed().subscribe({next:i=>{i&&this.getFaqCategories()}})}getFaqCategories(){this.activeApiCall=!0,this.apiService.get(g.d.faqCategory).subscribe({next:e=>{this.activeApiCall=!1,200===e.statusCode?this.dataSource=new s.by(e.response):this.errorHandlingService.handle(e)},error:e=>{this.activeApiCall=!1,this.errorHandlingService.handle(e)}})}deleteFaqCategory(e,n){window.confirm("Are you sure you want to delete this?")&&this.apiService.put(g.d.deleteFaqCategory,{id:n._id}).subscribe({next:i=>{if(201===i.statusCode||200===i.statusCode){const c=this.dataSource.data;c.splice(e,1),this.dataSource.data=c,this.alertService.notify(i.message)}else this.errorHandlingService.handle(i)},error:i=>this.errorHandlingService.handle(i)})}getFaqlist(e){this.router.navigate([et.g.Pages.FAQ_LIST,e._id])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.a),t.Y36(f.uw),t.Y36(h.r),t.Y36(x.c),t.Y36(F.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-faq-categories"]],decls:10,vars:2,consts:[[1,"title-group"],[1,"title"],[1,"mat-h1"],[1,"title-buttons"],["mat-raised-button","","color","accent",3,"click"],["fxFlex","1 0"],["class","no-data",4,"ngIf"],["class","container",4,"ngIf"],[1,"no-data"],[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","action"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"click"],["mat-icon-button","","color","warn","aria-label","delete",3,"click"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"FAQ Category List"),t.qZA()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return n.openFaqCategoryForm(!1)}),t._uU(6," Create "),t.qZA()()(),t._UZ(7,"mat-divider",5),t.YNc(8,lt,2,0,"p",6),t.YNc(9,Ct,13,3,"div",7)),2&e&&(t.xp6(8),t.Q6J("ngIf",!n.activeApiCall&&(null==n.dataSource||null==n.dataSource.filteredData?null:n.dataSource.filteredData.length)<=0),t.xp6(1),t.Q6J("ngIf",!n.activeApiCall&&(null==n.dataSource||null==n.dataSource.filteredData?null:n.dataSource.filteredData.length)>0))},dependencies:[m.O5,q.lW,b.d,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,y.Hw,m.rS],styles:["table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{font-weight:600}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px;padding:8px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px;word-break:break-all}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){white-space:nowrap;width:716px;overflow:hidden;text-overflow:ellipsis}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:65px;align-content:flex-end;z-index:999999}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%]{width:25px}.title-group[_ngcontent-%COMP%]{display:flex;flex-direction:row}.title-group[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000}.title-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 15px 15px}.title-group[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .title-group[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%]{width:50%}.title-group[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{float:right}.no-data[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;height:calc(100% - 51px);align-items:center}.mat-row[_ngcontent-%COMP%]{cursor:pointer!important}"]}),o})()},{path:"categories-list/:id",component:X},{path:"**",redirectTo:"categories"}];let xt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[Clipboard],imports:[F.Bz.forChild(ht),m.ez,$.q,tt.q,J]}),o})()}}]);