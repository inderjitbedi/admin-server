"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[459],{4459:(nt,_,r)=>{r.r(_),r.d(_,{FaqModule:()=>tt});var p=r(6895),l=r(5717),u=r(9938),c=r(4006),f=r(7368),t=r(4650),C=r(8606),x=r(3263),F=r(2510),b=r(5412),m=r(9549),O=r(4144),q=r(4859),v=r(4850),M=r(3683),y=r(7392);function T(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().index,s=t.oxw();return t.KtG(s.removeFaq(a))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}}function w(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Required "),t.qZA())}function P(o,i){if(1&o&&(t.TgZ(0,"mat-hint",24),t._uU(1),t.qZA()),2&o){const n=t.oxw().index,e=t.oxw();t.xp6(1),t.AsE("",e.questionMaxLength-e.faqs.controls[n].controls.question.value.length," ",e.questionMaxLength-e.faqs.controls[n].controls.question.value.length>1?"characters":"character"," left.")}}function Z(o,i){if(1&o&&(t.TgZ(0,"mat-hint",24),t._uU(1),t.qZA()),2&o){const n=t.oxw().index,e=t.oxw();t.xp6(1),t.AsE("",e.answerMaxLength-e.faqs.controls[n].controls.answer.value.length," ",e.answerMaxLength-e.faqs.controls[n].controls.answer.value.length>1?"characters":"character"," left.")}}function A(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Required "),t.qZA())}function L(o,i){if(1&o&&(t.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",15),t.YNc(4,T,3,0,"button",16),t.TgZ(5,"mat-form-field",17)(6,"mat-label"),t._uU(7,"Question "),t.qZA(),t._UZ(8,"textarea",18),t.YNc(9,w,2,0,"mat-error",19),t.YNc(10,P,2,2,"mat-hint",20),t.qZA()(),t.TgZ(11,"div",15)(12,"mat-form-field",21)(13,"mat-label"),t._uU(14,"Answer "),t.qZA(),t._UZ(15,"textarea",22),t.YNc(16,Z,2,2,"mat-hint",20),t.YNc(17,A,2,0,"mat-error",19),t.qZA()()()()()),2&o){const n=i.index,e=t.oxw();t.xp6(1),t.Q6J("formGroupName",n),t.xp6(1),t.ekj("faqForm",!e.isViewOnly)("mt-30",e.isViewOnly),t.xp6(2),t.Q6J("ngIf",e.faqList.length>1),t.xp6(1),t.ekj("mb-10",e.faqs.controls[n].controls.question.touched&&e.faqs.controls[n].controls.question.hasError("required")),t.xp6(3),t.Q6J("rows",3)("errorStateMatcher",e.matcher)("readonly",e.isViewOnly),t.xp6(1),t.Q6J("ngIf",e.faqs.controls[n].controls.question.hasError("required")),t.xp6(1),t.Q6J("ngIf",!e.isViewOnly),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher)("rows",e.isViewOnly?8:5)("readonly",e.isViewOnly),t.xp6(1),t.Q6J("ngIf",!e.isViewOnly),t.xp6(1),t.Q6J("ngIf",e.faqs.controls[n].controls.answer.hasError("required"))}}function k(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div",25)(1,"button",26),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.addFaq())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA(),t._uU(4," Add more "),t.qZA()()}}function N(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"mat-toolbar",27)(1,"div",28)(2,"button",29),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.saveFaqs())}),t._uU(3,"Save"),t.qZA(),t.TgZ(4,"button",30),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.matDialog.close())}),t._uU(5,"Cancel"),t.qZA()()()}if(2&o){const n=t.oxw();t.xp6(2),t.Q6J("disabled",n.faqForm.invalid)}}let g=(()=>{class o{constructor(n,e,a,s,d,h,et){this.matDialog=n,this.data=e,this.apiService=a,this.errorHandlingService=s,this.matcher=d,this.fb=h,this.alertService=et,this.apiCallActive=!1,this.questionMaxLength=1e3,this.answerMaxLength=2500,this.faqList=[],this.isViewOnly=e.isViewOnly,this.faqForm=this.fb.group({faqs:this.fb.array([])}),this.faqs.push(this.fb.group({question:[e.question||""],answer:[e.answer||""]})),this.faqList.push({id:"faq"+this.faqList.length+1}),e.isViewOnly||(this.faqs.controls[0].controls.question.setValidators(c.kI.required),this.faqs.controls[0].controls.answer.setValidators(c.kI.required))}get faqs(){return this.faqForm.get("faqs")}addFaq(){this.faqList.push({id:"faq"+this.faqList.length+1}),this.faqs.push(this.fb.group({question:["",[c.kI.required]],answer:["",c.kI.required]}))}removeFaq(n){this.faqs.removeAt(n),this.faqList.splice(n,1)}ngOnInit(){}saveFaqs(){if(this.apiCallActive=!0,this.faqForm.valid){const n=[...this.faqForm.value.faqs];this.apiService.post(u.d.createFaq,n).subscribe({next:e=>{this.apiCallActive=!1,!e||200!==e.statusCode&&201!==e.statusCode?this.errorHandlingService.handle(e):(this.alertService.notify(e.message),this.matDialog.close(e))},error:e=>{this.errorHandlingService.handle(e)}})}}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(f.so),t.Y36(f.WI),t.Y36(C.a),t.Y36(x.r),t.Y36(F.d),t.Y36(c.qu),t.Y36(b.c))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-faq-form"]],decls:15,vars:5,consts:[["fxLayout","column",1,"faq-container"],["fxLayoutAlign","end flex-end",1,"mat-accent-bg","m-0"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between flex-end",1,"mat-toolbar-header"],[1,"title","dialog-title"],["aria-label","Close dialog","mat-button","",1,"mat-icon-button","mat-button",3,"click"],[1,"mat-button-wrapper"],["role","img","aria-hidden","true",1,"mat-icon","material-icons"],[1,"mt-10"],["fxLayout","column",1,"content","p-20","mt-20"],["fx-layout","column",3,"formGroup"],["formArrayName","faqs",4,"ngFor","ngForOf"],["fxlayout","row","fxLayoutAlign","flex-start","fxFlex","100","class","mat-toolbar-footer",4,"ngIf"],["class","mat-accent-bg m-0 mt-12","fxLayoutAlign","center",4,"ngIf"],["formArrayName","faqs"],[3,"formGroupName"],["fxLayout","column","fxLayout.gt-xs","row"],["type","button","mat-button","","color","accent","class","deleteFaq",3,"click",4,"ngIf"],["fxFlex","100"],["matInput","","formControlName","question","trim","","autocomplete","off","maxlength","1000",3,"rows","errorStateMatcher","readonly"],[4,"ngIf"],["align","end",4,"ngIf"],["fxFlex","100",1,"mb-10"],["matInput","","formControlName","answer","trim","","autocomplete","off","maxlength","2500",3,"errorStateMatcher","rows","readonly"],["type","button","mat-button","","color","accent",1,"deleteFaq",3,"click"],["align","end"],["fxlayout","row","fxLayoutAlign","flex-start","fxFlex","100",1,"mat-toolbar-footer"],["type","submit","mat-button","","color","primary",1,"addButton",3,"click"],["fxLayoutAlign","center",1,"mat-accent-bg","m-0","mt-12"],["fxlayout","row","fxLayoutAlign","flex-end","fxFlex","100",1,"mat-toolbar-footer","action-buttons"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"],["type","button","mat-raised-button","",1,"mr-20",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return e.matDialog.close()}),t.TgZ(6,"span",5)(7,"mat-icon",6),t._uU(8,"close"),t.qZA()()()()(),t._UZ(9,"mat-divider",7),t.TgZ(10,"div",8)(11,"form",9),t.YNc(12,L,18,18,"div",10),t.qZA(),t.YNc(13,k,5,0,"div",11),t.qZA(),t.YNc(14,N,6,1,"mat-toolbar",12),t.qZA()),2&n&&(t.xp6(4),t.hij("",e.isViewOnly?"View":"Create"," FAQ"),t.xp6(7),t.Q6J("formGroup",e.faqForm),t.xp6(1),t.Q6J("ngForOf",e.faqList),t.xp6(1),t.Q6J("ngIf",!e.isViewOnly),t.xp6(1),t.Q6J("ngIf",!e.isViewOnly))},dependencies:[p.sg,p.O5,m.TO,m.KE,m.bx,m.hX,O.Nt,q.lW,v.d,M.Ye,y.Hw,c._Y,c.Fj,c.JJ,c.JL,c.nD,c.sg,c.u,c.x0,c.CE],styles:[".faq-container[_ngcontent-%COMP%]{position:relative}.faq-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer[_ngcontent-%COMP%]{display:flex;width:100%}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer.action-buttons[_ngcontent-%COMP%]{justify-content:right}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-single-row[_ngcontent-%COMP%]{padding:0;background-color:transparent}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.mat-toolbar-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto}.mat-form-field-hint-wrapper[_ngcontent-%COMP%]{display:block!important;text-align:right}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.faqForm[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(0,0,0,.5);padding:10px;border-radius:5px;margin-top:30px}.faqForm[_ngcontent-%COMP%]   .deleteFaq[_ngcontent-%COMP%]{position:absolute;right:-16px;top:-19px;padding:0;background:rgba(0,0,0,.1);min-width:10px;height:36px;border-radius:50px;width:34px}.mat-toolbar-footer[_ngcontent-%COMP%]{margin-top:15px}.addButton[_ngcontent-%COMP%]{padding:0}.mt-10[_ngcontent-%COMP%]{margin-top:10px}"]}),o})();var S=r(2340);class D{constructor(i,n){this._document=n;const e=this._textarea=this._document.createElement("textarea"),a=e.style;a.position="fixed",a.top=a.opacity="0",a.left="-999em",e.setAttribute("aria-hidden","true"),e.value=i,e.readOnly=!0,this._document.body.appendChild(e)}copy(){const i=this._textarea;let n=!1;try{if(i){const e=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),n=this._document.execCommand("copy"),e&&e.focus()}}catch{}return n}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let I=(()=>{class o{constructor(n){this._document=n}copy(n){const e=this.beginCopy(n),a=e.copy();return e.destroy(),a}beginCopy(n){return new D(n,this._document)}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(p.K0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Y=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({}),o})();function U(o,i){1&o&&(t.TgZ(0,"p",8),t._uU(1," There is no FAQ created yet!\n"),t.qZA())}function J(o,i){1&o&&(t.TgZ(0,"th",18),t._uU(1," Id "),t.qZA())}function Q(o,i){if(1&o&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&o){const n=i.index;t.xp6(1),t.hij(" ",n+1," ")}}function H(o,i){1&o&&(t.TgZ(0,"th",18),t._uU(1," Question "),t.qZA())}function E(o,i){if(1&o&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&o){const n=i.$implicit;t.xp6(1),t.hij(" ",n.question," ")}}function V(o,i){1&o&&(t.TgZ(0,"th",18),t._uU(1," Action "),t.qZA())}function j(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"td",19)(1,"button",20),t.NdJ("click",function(){const s=t.CHM(n).$implicit,d=t.oxw(2);return t.KtG(d.openFaqForm(!0,s))}),t.TgZ(2,"mat-icon"),t._uU(3,"visibility"),t.qZA()(),t.TgZ(4,"button",21),t.NdJ("click",function(){const a=t.CHM(n),s=a.index,d=a.$implicit,h=t.oxw(2);return t.KtG(h.deleteFaq(s,d))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function B(o,i){1&o&&t._UZ(0,"tr",22)}function G(o,i){1&o&&t._UZ(0,"tr",23)}function R(o,i){if(1&o&&(t.TgZ(0,"div",9)(1,"table",10),t.ynx(2,11),t.YNc(3,J,2,0,"th",12),t.YNc(4,Q,2,1,"td",13),t.BQk(),t.ynx(5,14),t.YNc(6,H,2,0,"th",12),t.YNc(7,E,2,1,"td",13),t.BQk(),t.ynx(8,15),t.YNc(9,V,2,0,"th",12),t.YNc(10,j,7,0,"td",13),t.BQk(),t.YNc(11,B,1,0,"tr",16),t.YNc(12,G,1,0,"tr",17),t.qZA()()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}let K=(()=>{class o{constructor(n,e,a,s,d){this.apiService=n,this.dialog=e,this.errorHandlingService=a,this.alertService=s,this.clipboard=d,this.activeApiCall=!0,this.displayedColumns=["id","question","action"]}ngOnInit(){this.getFaqs()}openFaqForm(n,e={}){this.addUserDialogRef=this.dialog.open(g,{minWidth:"320px",width:"585px",disableClose:!0,data:{isViewOnly:n,...e}}),this.addUserDialogRef.afterClosed().subscribe({next:a=>{a&&this.getFaqs()}})}getFaqs(){this.activeApiCall=!0,this.apiService.get(u.d.faq).subscribe({next:n=>{this.activeApiCall=!1,200===n.statusCode?this.dataSource=new l.by(n.response):this.errorHandlingService.handle(n)},error:n=>{this.activeApiCall=!1,this.errorHandlingService.handle(n)}})}deleteFaq(n,e){window.confirm("Are you sure you want to delete this?")&&this.apiService.put(u.d.deleteFaq,{id:e._id}).subscribe({next:a=>{if(201===a.statusCode||200===a.statusCode){const s=this.dataSource.data;s.splice(n,1),this.dataSource.data=s,this.alertService.notify(a.message)}else this.errorHandlingService.handle(a)},error:a=>this.errorHandlingService.handle(a)})}copyText(){this.clipboard.copy(`<iframe width="100%" height="1000px" src="${S.N.baseUrl}faq-snippet.html"></iframe>`),this.alertService.notify("IFrame snippet copied!")}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(C.a),t.Y36(f.uw),t.Y36(x.r),t.Y36(b.c),t.Y36(I))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-faq-list"]],decls:12,vars:2,consts:[[1,"title-group"],[1,"title"],[1,"mat-h1"],[1,"title-buttons"],["mat-raised-button","","color","accent",3,"click"],["fxFlex","1 0"],["class","no-data",4,"ngIf"],["class","container",4,"ngIf"],[1,"no-data"],[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","question"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","aria-label","view",3,"click"],["mat-icon-button","","color","warn","aria-label","delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"FAQ List"),t.qZA()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return e.openFaqForm(!1)}),t._uU(6," Create "),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return e.copyText()}),t._uU(8," Copy FAQ snippet "),t.qZA()()(),t._UZ(9,"mat-divider",5),t.YNc(10,U,2,0,"p",6),t.YNc(11,R,13,3,"div",7)),2&n&&(t.xp6(10),t.Q6J("ngIf",!e.activeApiCall&&(null==e.dataSource||null==e.dataSource.filteredData?null:e.dataSource.filteredData.length)<=0),t.xp6(1),t.Q6J("ngIf",!e.activeApiCall&&(null==e.dataSource||null==e.dataSource.filteredData?null:e.dataSource.filteredData.length)>0))},dependencies:[p.O5,q.lW,v.d,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,y.Hw],styles:["table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{font-weight:600}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px;padding:8px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px;word-break:break-all}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){white-space:nowrap;width:716px;overflow:hidden;text-overflow:ellipsis}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:65px;align-content:flex-end}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%]{width:25px}.title-group[_ngcontent-%COMP%]{display:flex;flex-direction:row}.title-group[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000}.title-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 15px 15px}.title-group[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .title-group[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%]{width:50%}.title-group[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{float:right}.no-data[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;height:calc(100% - 51px);align-items:center}"]}),o})();var z=r(8490),W=r(898),X=r(4111);const $=[{path:"list",component:K},{path:"add",component:g},{path:"edit/:id",component:g},{path:"**",redirectTo:"list"}];let tt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[Clipboard],imports:[z.Bz.forChild($),p.ez,W.q,X.q,Y]}),o})()}}]);