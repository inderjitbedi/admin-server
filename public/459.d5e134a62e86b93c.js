"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[459],{4459:(tt,C,r)=>{r.r(C),r.d(C,{FaqModule:()=>X});var p=r(6895),l=r(5717),f=r(9938),s=r(4006),g=r(7368),t=r(4650),_=r(8606),x=r(3263),F=r(2510),b=r(5412),u=r(9549),q=r(4144),y=r(4859),O=r(3683),v=r(7392);function M(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}function T(n,i){if(1&n&&(t.TgZ(0,"mat-hint",17),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE("",e.questionMaxLength-e.faqForm.controls.question.value.length," ",e.questionMaxLength-e.faqForm.controls.question.value.length>1?"characters":"character"," left.")}}function w(n,i){if(1&n&&(t.TgZ(0,"mat-hint",17),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE("",e.answerMaxLength-e.faqForm.controls.answer.value.length," ",e.answerMaxLength-e.faqForm.controls.answer.value.length>1?"characters":"character"," left.")}}function P(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}function Z(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-toolbar",18)(1,"div",19)(2,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveUser())}),t._uU(3,"Save"),t.qZA(),t.TgZ(4,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.matDialog.close())}),t._uU(5,"Cancel"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("disabled",e.faqForm.invalid)}}let h=(()=>{class n{constructor(e,o,a,c,d,m,$){this.matDialog=e,this.data=o,this.apiService=a,this.errorHandlingService=c,this.matcher=d,this.fb=m,this.alertService=$,this.apiCallActive=!1,this.questionMaxLength=1e3,this.answerMaxLength=2500,this.isViewOnly=o.isViewOnly,this.faqForm=this.fb.group({question:[o.question||""],answer:[o.answer||""]}),o.isViewOnly||(this.faqForm.controls.question.setValidators(s.kI.required),this.faqForm.controls.answer.setValidators(s.kI.required))}ngOnInit(){}saveUser(){if(this.apiCallActive=!0,this.faqForm.valid){const e={...this.faqForm.value};this.apiService.post(f.d.createFaq,e).subscribe({next:o=>{this.apiCallActive=!1,!o||200!==o.statusCode&&201!==o.statusCode?this.errorHandlingService.handle(o):(this.alertService.notify(o.message),this.matDialog.close(o))},error:o=>{this.errorHandlingService.handle(o)}})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.so),t.Y36(g.WI),t.Y36(_.a),t.Y36(x.r),t.Y36(F.d),t.Y36(s.qu),t.Y36(b.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-faq-form"]],decls:26,vars:15,consts:[["fxLayout","column",1,"faq-container"],["fxLayoutAlign","end flex-end",1,"mat-accent-bg","m-0"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between flex-end",1,"mat-toolbar-header"],[1,"title","dialog-title"],["aria-label","Close dialog","mat-button","",1,"mat-icon-button","mat-button",3,"click"],[1,"mat-button-wrapper"],["role","img","aria-hidden","true",1,"mat-icon","material-icons"],["fxLayout","column",1,"content","p-20","mt-20"],["fx-layout","column",3,"formGroup"],["fxLayout","column","fxLayout.gt-xs","row"],["fxFlex","100"],["matInput","","formControlName","question","trim","","autocomplete","off","maxlength","1000",3,"rows","errorStateMatcher","readonly"],[4,"ngIf"],["align","end",4,"ngIf"],["fxFlex","100",1,"mb-10"],["matInput","","formControlName","answer","trim","","autocomplete","off","maxlength","2500",3,"errorStateMatcher","rows","readonly"],["class","mat-accent-bg m-0","fxLayoutAlign","center",4,"ngIf"],["align","end"],["fxLayoutAlign","center",1,"mat-accent-bg","m-0"],["fxlayout","row","fxLayoutAlign","flex-end","fxFlex","100",1,"mat-toolbar-footer"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"],["type","button","mat-raised-button","",1,"mr-20",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return o.matDialog.close()}),t.TgZ(6,"span",5)(7,"mat-icon",6),t._uU(8,"close"),t.qZA()()()()(),t.TgZ(9,"div",7)(10,"form",8)(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),t._uU(14,"Question "),t.qZA(),t._UZ(15,"textarea",11),t.YNc(16,M,2,0,"mat-error",12),t.YNc(17,T,2,2,"mat-hint",13),t.qZA()(),t.TgZ(18,"div",9)(19,"mat-form-field",14)(20,"mat-label"),t._uU(21,"Answer "),t.qZA(),t._UZ(22,"textarea",15),t.YNc(23,w,2,2,"mat-hint",13),t.YNc(24,P,2,0,"mat-error",12),t.qZA()()()(),t.YNc(25,Z,6,1,"mat-toolbar",16),t.qZA()),2&e&&(t.xp6(4),t.hij("",o.isViewOnly?"View":"Create"," FAQ"),t.xp6(6),t.Q6J("formGroup",o.faqForm),t.xp6(2),t.ekj("mb-10",o.faqForm.controls.question.hasError("required")),t.xp6(3),t.Q6J("rows",3)("errorStateMatcher",o.matcher)("readonly",o.isViewOnly),t.xp6(1),t.Q6J("ngIf",o.faqForm.controls.question.hasError("required")),t.xp6(1),t.Q6J("ngIf",!o.isViewOnly),t.xp6(5),t.Q6J("errorStateMatcher",o.matcher)("rows",5)("readonly",o.isViewOnly),t.xp6(1),t.Q6J("ngIf",!o.isViewOnly),t.xp6(1),t.Q6J("ngIf",o.faqForm.controls.answer.hasError("required")),t.xp6(1),t.Q6J("ngIf",!o.isViewOnly))},dependencies:[p.O5,u.TO,u.KE,u.bx,u.hX,q.Nt,y.lW,O.Ye,v.Hw,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.sg,s.u],styles:[".faq-container[_ngcontent-%COMP%]{position:relative}.faq-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:right}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.faq-container[_ngcontent-%COMP%]   .mat-toolbar-single-row[_ngcontent-%COMP%]{padding:0;background-color:transparent}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.mat-toolbar-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto}.mat-form-field-hint-wrapper[_ngcontent-%COMP%]{display:block!important;text-align:right}"]}),n})();var A=r(2340);class L{constructor(i,e){this._document=e;const o=this._textarea=this._document.createElement("textarea"),a=o.style;a.position="fixed",a.top=a.opacity="0",a.left="-999em",o.setAttribute("aria-hidden","true"),o.value=i,o.readOnly=!0,this._document.body.appendChild(o)}copy(){const i=this._textarea;let e=!1;try{if(i){const o=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),e=this._document.execCommand("copy"),o&&o.focus()}}catch{}return e}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let S=(()=>{class n{constructor(e){this._document=e}copy(e){const o=this.beginCopy(e),a=o.copy();return o.destroy(),a}beginCopy(e){return new L(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(p.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var Y=r(529),I=r(4850);function N(n,i){1&n&&(t.TgZ(0,"p",8),t._uU(1," There is no FAQ created yet!\n"),t.qZA())}function U(n,i){1&n&&(t.TgZ(0,"th",18),t._uU(1," Id "),t.qZA())}function k(n,i){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=i.index;t.xp6(1),t.hij(" ",e+1," ")}}function J(n,i){1&n&&(t.TgZ(0,"th",18),t._uU(1," Question "),t.qZA())}function Q(n,i){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.question," ")}}function H(n,i){1&n&&(t.TgZ(0,"th",18),t._uU(1," Action "),t.qZA())}function j(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",19)(1,"button",20),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.openFaqForm(!0,c))}),t.TgZ(2,"mat-icon"),t._uU(3,"visibility"),t.qZA()(),t.TgZ(4,"button",21),t.NdJ("click",function(){const a=t.CHM(e),c=a.index,d=a.$implicit,m=t.oxw(2);return t.KtG(m.deleteFaq(c,d))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function B(n,i){1&n&&t._UZ(0,"tr",22)}function E(n,i){1&n&&t._UZ(0,"tr",23)}function R(n,i){if(1&n&&(t.TgZ(0,"div",9)(1,"table",10),t.ynx(2,11),t.YNc(3,U,2,0,"th",12),t.YNc(4,k,2,1,"td",13),t.BQk(),t.ynx(5,14),t.YNc(6,J,2,0,"th",12),t.YNc(7,Q,2,1,"td",13),t.BQk(),t.ynx(8,15),t.YNc(9,H,2,0,"th",12),t.YNc(10,j,7,0,"td",13),t.BQk(),t.YNc(11,B,1,0,"tr",16),t.YNc(12,E,1,0,"tr",17),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}let V=(()=>{class n{constructor(e,o,a,c,d,m){this.apiService=e,this.dialog=o,this.errorHandlingService=a,this.alertService=c,this.clipboard=d,this.http=m,this.activeApiCall=!0,this.displayedColumns=["id","question","action"]}ngOnInit(){this.getFaqs()}openFaqForm(e,o={}){this.addUserDialogRef=this.dialog.open(h,{minWidth:"320px",width:"585px",disableClose:!0,data:{isViewOnly:e,...o}}),this.addUserDialogRef.afterClosed().subscribe({next:a=>{a&&this.getFaqs()}})}getFaqs(){this.activeApiCall=!0,this.apiService.get(f.d.faq).subscribe({next:e=>{this.activeApiCall=!1,200===e.statusCode?(this.dataSource=new l.by(e.response),console.log(this.dataSource)):this.errorHandlingService.handle(e)},error:e=>{this.activeApiCall=!1,this.errorHandlingService.handle(e)}})}deleteFaq(e,o){window.confirm("Are you sure you want to delete this?")&&this.apiService.put(f.d.deleteFaq,{id:o._id}).subscribe({next:a=>{if(201===a.statusCode||200===a.statusCode){const c=this.dataSource.data;c.splice(e,1),this.dataSource.data=c,this.alertService.notify(a.message)}else this.errorHandlingService.handle(a)},error:a=>this.errorHandlingService.handle(a)})}copyText(){this.clipboard.copy(`<iframe width="100%" height="1000px" src="${A.N.baseUrl}faq-snippet.html"></iframe>`),this.alertService.notify("IFrame snippet copied!")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.a),t.Y36(g.uw),t.Y36(x.r),t.Y36(b.c),t.Y36(S),t.Y36(Y.eN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-faq-list"]],decls:12,vars:2,consts:[[1,"title-group"],[1,"title"],[1,"mat-h1"],[1,"title-buttons"],["mat-raised-button","","color","accent",3,"click"],["fxFlex","1 0"],["class","no-data",4,"ngIf"],["class","container",4,"ngIf"],[1,"no-data"],[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","question"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","aria-label","view",3,"click"],["mat-icon-button","","color","warn","aria-label","delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"FAQ List"),t.qZA()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return o.openFaqForm(!1)}),t._uU(6," Create "),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return o.copyText()}),t._uU(8," Copy FAQ snippet "),t.qZA()()(),t._UZ(9,"mat-divider",5),t.YNc(10,N,2,0,"p",6),t.YNc(11,R,13,3,"div",7)),2&e&&(t.xp6(10),t.Q6J("ngIf",(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)<=0),t.xp6(1),t.Q6J("ngIf",(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)>0))},dependencies:[p.O5,y.lW,I.d,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,v.Hw],styles:["table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{font-weight:600}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px;padding:8px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px;word-break:break-all}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){white-space:nowrap;width:716px;overflow:hidden;text-overflow:ellipsis}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:65px;align-content:flex-end}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%]{width:25px}.title-group[_ngcontent-%COMP%]{display:flex;flex-direction:row}.title-group[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000}.title-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 15px 15px}.title-group[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .title-group[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%]{width:50%}.title-group[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{float:right}.no-data[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;height:calc(100% - 51px);align-items:center}"]}),n})();var G=r(8490),K=r(898),z=r(4111);const W=[{path:"list",component:V},{path:"add",component:h},{path:"edit/:id",component:h},{path:"**",redirectTo:"list"}];let X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Clipboard],imports:[G.Bz.forChild(W),p.ez,K.q,z.q,D]}),n})()}}]);